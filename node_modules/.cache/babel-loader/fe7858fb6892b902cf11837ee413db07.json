{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"E:/kommit/React/my-movie/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\n\nvar _createForOfIteratorHelper = require(\"E:/kommit/React/my-movie/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectOptions = exports.deselectOptions = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _click = require(\"./click\");\n\nvar _focus = require(\"./focus\");\n\nvar _hover = require(\"./hover\");\n\nfunction selectOptionsBase(newValue, select, values, init) {\n  var _ref = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {},\n      _ref$skipPointerEvent = _ref.skipPointerEventsCheck,\n      skipPointerEventsCheck = _ref$skipPointerEvent === void 0 ? false : _ref$skipPointerEvent;\n\n  if (!newValue && !select.multiple) {\n    throw (0, _dom.getConfig)().getElementError(\"Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.\", select);\n  }\n\n  var valArray = Array.isArray(values) ? values : [values];\n  var allOptions = Array.from(select.querySelectorAll('option, [role=\"option\"]'));\n  var selectedOptions = valArray.map(function (val) {\n    if (typeof val !== 'string' && allOptions.includes(val)) {\n      return val;\n    } else {\n      var matchingOption = allOptions.find(function (o) {\n        return o.value === val || o.innerHTML === val;\n      });\n\n      if (matchingOption) {\n        return matchingOption;\n      } else {\n        throw (0, _dom.getConfig)().getElementError(\"Value \\\"\".concat(String(val), \"\\\" not found in options\"), select);\n      }\n    }\n  }).filter(function (option) {\n    return !(0, _utils.isDisabled)(option);\n  });\n  if ((0, _utils.isDisabled)(select) || !selectedOptions.length) return;\n\n  if ((0, _utils.isElementType)(select, 'select')) {\n    if (select.multiple) {\n      var _iterator = _createForOfIteratorHelper(selectedOptions),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var option = _step.value;\n          var withPointerEvents = skipPointerEventsCheck ? true : (0, _utils.hasPointerEvents)(option); // events fired for multiple select are weird. Can't use hover...\n\n          if (withPointerEvents) {\n            _dom.fireEvent.pointerOver(option, init);\n\n            _dom.fireEvent.pointerEnter(select, init);\n\n            _dom.fireEvent.mouseOver(option);\n\n            _dom.fireEvent.mouseEnter(select);\n\n            _dom.fireEvent.pointerMove(option, init);\n\n            _dom.fireEvent.mouseMove(option, init);\n\n            _dom.fireEvent.pointerDown(option, init);\n\n            _dom.fireEvent.mouseDown(option, init);\n          }\n\n          (0, _focus.focus)(select);\n\n          if (withPointerEvents) {\n            _dom.fireEvent.pointerUp(option, init);\n\n            _dom.fireEvent.mouseUp(option, init);\n          }\n\n          selectOption(option);\n\n          if (withPointerEvents) {\n            _dom.fireEvent.click(option, init);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    } else if (selectedOptions.length === 1) {\n      var _withPointerEvents = skipPointerEventsCheck ? true : (0, _utils.hasPointerEvents)(select); // the click to open the select options\n\n\n      if (_withPointerEvents) {\n        (0, _click.click)(select, init, {\n          skipPointerEventsCheck: skipPointerEventsCheck\n        });\n      } else {\n        (0, _focus.focus)(select);\n      }\n\n      selectOption(selectedOptions[0]);\n\n      if (_withPointerEvents) {\n        // the browser triggers another click event on the select for the click on the option\n        // this second click has no 'down' phase\n        _dom.fireEvent.pointerOver(select, init);\n\n        _dom.fireEvent.pointerEnter(select, init);\n\n        _dom.fireEvent.mouseOver(select);\n\n        _dom.fireEvent.mouseEnter(select);\n\n        _dom.fireEvent.pointerUp(select, init);\n\n        _dom.fireEvent.mouseUp(select, init);\n\n        _dom.fireEvent.click(select, init);\n      }\n    } else {\n      throw (0, _dom.getConfig)().getElementError(\"Cannot select multiple options on a non-multiple select\", select);\n    }\n  } else if (select.getAttribute('role') === 'listbox') {\n    selectedOptions.forEach(function (option) {\n      (0, _hover.hover)(option, init, {\n        skipPointerEventsCheck: skipPointerEventsCheck\n      });\n      (0, _click.click)(option, init, {\n        skipPointerEventsCheck: skipPointerEventsCheck\n      });\n      (0, _hover.unhover)(option, init, {\n        skipPointerEventsCheck: skipPointerEventsCheck\n      });\n    });\n  } else {\n    throw (0, _dom.getConfig)().getElementError(\"Cannot select options on elements that are neither select nor listbox elements\", select);\n  }\n\n  function selectOption(option) {\n    option.selected = newValue;\n    (0, _dom.fireEvent)(select, (0, _dom.createEvent)('input', select, _objectSpread({\n      bubbles: true,\n      cancelable: false,\n      composed: true\n    }, init)));\n\n    _dom.fireEvent.change(select, init);\n  }\n}\n\nvar selectOptions = selectOptionsBase.bind(null, true);\nexports.selectOptions = selectOptions;\nvar deselectOptions = selectOptionsBase.bind(null, false);\nexports.deselectOptions = deselectOptions;","map":{"version":3,"sources":["E:/kommit/React/my-movie/node_modules/@testing-library/user-event/dist/select-options.js"],"names":["Object","defineProperty","exports","value","selectOptions","deselectOptions","_dom","require","_utils","_click","_focus","_hover","selectOptionsBase","newValue","select","values","init","skipPointerEventsCheck","multiple","getConfig","getElementError","valArray","Array","isArray","allOptions","from","querySelectorAll","selectedOptions","map","val","includes","matchingOption","find","o","innerHTML","String","filter","option","isDisabled","length","isElementType","withPointerEvents","hasPointerEvents","fireEvent","pointerOver","pointerEnter","mouseOver","mouseEnter","pointerMove","mouseMove","pointerDown","mouseDown","focus","pointerUp","mouseUp","selectOption","click","getAttribute","forEach","hover","unhover","selected","createEvent","bubbles","cancelable","composed","change","bind"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectOptions = exports.deselectOptions = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _click = require(\"./click\");\n\nvar _focus = require(\"./focus\");\n\nvar _hover = require(\"./hover\");\n\nfunction selectOptionsBase(newValue, select, values, init, {\n  skipPointerEventsCheck = false\n} = {}) {\n  if (!newValue && !select.multiple) {\n    throw (0, _dom.getConfig)().getElementError(`Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.`, select);\n  }\n\n  const valArray = Array.isArray(values) ? values : [values];\n  const allOptions = Array.from(select.querySelectorAll('option, [role=\"option\"]'));\n  const selectedOptions = valArray.map(val => {\n    if (typeof val !== 'string' && allOptions.includes(val)) {\n      return val;\n    } else {\n      const matchingOption = allOptions.find(o => o.value === val || o.innerHTML === val);\n\n      if (matchingOption) {\n        return matchingOption;\n      } else {\n        throw (0, _dom.getConfig)().getElementError(`Value \"${String(val)}\" not found in options`, select);\n      }\n    }\n  }).filter(option => !(0, _utils.isDisabled)(option));\n  if ((0, _utils.isDisabled)(select) || !selectedOptions.length) return;\n\n  if ((0, _utils.isElementType)(select, 'select')) {\n    if (select.multiple) {\n      for (const option of selectedOptions) {\n        const withPointerEvents = skipPointerEventsCheck ? true : (0, _utils.hasPointerEvents)(option); // events fired for multiple select are weird. Can't use hover...\n\n        if (withPointerEvents) {\n          _dom.fireEvent.pointerOver(option, init);\n\n          _dom.fireEvent.pointerEnter(select, init);\n\n          _dom.fireEvent.mouseOver(option);\n\n          _dom.fireEvent.mouseEnter(select);\n\n          _dom.fireEvent.pointerMove(option, init);\n\n          _dom.fireEvent.mouseMove(option, init);\n\n          _dom.fireEvent.pointerDown(option, init);\n\n          _dom.fireEvent.mouseDown(option, init);\n        }\n\n        (0, _focus.focus)(select);\n\n        if (withPointerEvents) {\n          _dom.fireEvent.pointerUp(option, init);\n\n          _dom.fireEvent.mouseUp(option, init);\n        }\n\n        selectOption(option);\n\n        if (withPointerEvents) {\n          _dom.fireEvent.click(option, init);\n        }\n      }\n    } else if (selectedOptions.length === 1) {\n      const withPointerEvents = skipPointerEventsCheck ? true : (0, _utils.hasPointerEvents)(select); // the click to open the select options\n\n      if (withPointerEvents) {\n        (0, _click.click)(select, init, {\n          skipPointerEventsCheck\n        });\n      } else {\n        (0, _focus.focus)(select);\n      }\n\n      selectOption(selectedOptions[0]);\n\n      if (withPointerEvents) {\n        // the browser triggers another click event on the select for the click on the option\n        // this second click has no 'down' phase\n        _dom.fireEvent.pointerOver(select, init);\n\n        _dom.fireEvent.pointerEnter(select, init);\n\n        _dom.fireEvent.mouseOver(select);\n\n        _dom.fireEvent.mouseEnter(select);\n\n        _dom.fireEvent.pointerUp(select, init);\n\n        _dom.fireEvent.mouseUp(select, init);\n\n        _dom.fireEvent.click(select, init);\n      }\n    } else {\n      throw (0, _dom.getConfig)().getElementError(`Cannot select multiple options on a non-multiple select`, select);\n    }\n  } else if (select.getAttribute('role') === 'listbox') {\n    selectedOptions.forEach(option => {\n      (0, _hover.hover)(option, init, {\n        skipPointerEventsCheck\n      });\n      (0, _click.click)(option, init, {\n        skipPointerEventsCheck\n      });\n      (0, _hover.unhover)(option, init, {\n        skipPointerEventsCheck\n      });\n    });\n  } else {\n    throw (0, _dom.getConfig)().getElementError(`Cannot select options on elements that are neither select nor listbox elements`, select);\n  }\n\n  function selectOption(option) {\n    option.selected = newValue;\n    (0, _dom.fireEvent)(select, (0, _dom.createEvent)('input', select, {\n      bubbles: true,\n      cancelable: false,\n      composed: true,\n      ...init\n    }));\n\n    _dom.fireEvent.change(select, init);\n  }\n}\n\nconst selectOptions = selectOptionsBase.bind(null, true);\nexports.selectOptions = selectOptions;\nconst deselectOptions = selectOptionsBase.bind(null, false);\nexports.deselectOptions = deselectOptions;"]},"metadata":{},"sourceType":"script"}